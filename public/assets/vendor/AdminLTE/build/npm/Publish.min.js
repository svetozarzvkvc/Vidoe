const path=require("path"),fse=require("fs-extra"),Plugins=require("./Plugins");
class Publish{constructor(){this.options={verbose:!1};this.getArguments()}getArguments(){if(2<process.argv.length){const a=process.argv[2];switch(a){case "-v":case "--verbose":this.options.verbose=!0;break;default:throw Error(`Unknown option ${a}`);}}}run(){Plugins.forEach(a=>{const c={filter(b){return!path.basename(b).startsWith(".")}};try{fse.existsSync(a.from)?fse.copySync(a.from,a.to,c):fse.copySync(a.from.replace("node_modules/","../"),a.to,c),this.options.verbose&&console.log(`Copied ${a.from} to ${a.to}`)}catch(b){console.error(`Error: ${b}`)}})}}
(new Publish).run();
